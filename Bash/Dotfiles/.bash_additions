#!/bin/bash

export PATH="$HOME/bin:$PATH"

source ~/.virtualenvs/MainEnv/bin/activate

if [ -f "$HOME/.bashrc" ]; then
	alias r="source $HOME/.bashrc"
elif [ -f "$HOME/.bash_profile" ]; then
	alias r="source $HOME/.bash_profile"
fi

if [[ $(uname) == Darwin ]]; then
    alias ls="ls -Gp"
    alias ll="ls -Gpoh"
    alias la="ls -GpA"
    
    alias ssh-to-aws="ssh -i ~/.ssh/Main.pem ubuntu@ec2-34-210-71-203.us-west-2.compute.amazonaws.com"
else
    alias ls="ls -p --color"
    alias ll="ls -poh --color"
    alias la="ls -pA --color"
fi

mkcd() {
	if [[ $# != 1 ]]; then
		echo "Usage: mkcd DIR"
	else
		mkdir -p -- "$1" && cd -P -- "$1"
	fi
}

clera() {
    echo "#################"
    echo "### C L E R A ###"
    echo "#################"
}

getip() {
    echo "Public:  $(dig +short myip.opendns.com @resolver1.opendns.com)"
    echo "Private: $(ifconfig | grep "inet " | grep -v "127.0.0.1" | awk '{print $2}' | sed -e 's/addr://g')"
}

bo() {
	# Build-Only
	if [[ $# != 1 ]]; then
		echo "Usage: bo FILE"
        echo "Call in directory of FILE"
	else
		g++ "$1" -o "${1%.cpp}"
	fi
}

bar() {
	# Build-And-Run
	if [[ $# != 1 ]]; then
		echo "Usage: bar FILE"
        echo "Call in directory of FILE"
	else
		bo "$1"
		"./${1%.cpp}"
	fi
}

brr() {
	# Build-Run-Remove
	if [[ $# != 1 ]]; then
		echo "Usage: brr FILE"
        echo "Call in directory of FILE"
	else
		bar "$1"
		rm "./${1%.cpp}"
	fi
}

jo() {
    # Java-Only
    if [[ $# != 1 ]]; then
        echo "Usage: jo FILE"
        echo "Call in directory of FILE"
    else
        javac "$1"
    fi
}

jar() {
    # Java-And-Run
    if [[ $# != 1 ]]; then
        echo "Usage: jar FILE"
        echo "Call in directory of FILE"
    else
        jo "$1"
        java "${1%.java}"
    fi
}

jrr() {
    # Java-Run-Remove
    if [[ $# != 1 ]]; then
        echo "Usage: jrr FILE"
        echo "Call in directory of FILE"
    else
        jar "$1"
        rm "${1%.java}.class"
    fi
}

if [[ $(uname) == Darwin ]]; then
	close() {
		n=$(who | grep ttys -c)
		if [[ $n == 1 ]]; then
			osascript -e 'quit app "Terminal"'
		elif [[ $n > 1 ]]; then
			exit
		fi
	}
fi
